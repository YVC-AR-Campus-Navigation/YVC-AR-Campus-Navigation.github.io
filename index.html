<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YVC Camera Test (Direct)</title>
  <style>
    html, body { margin:0; height:100%; background:#000; }
    #msg {
      position: fixed; top:0; left:0; right:0;
      padding:10px 12px;
      font-family: Arial, system-ui;
      background: rgba(0,0,0,0.6);
      color:#fff; z-index: 10;
    }
    video { width:100%; height:100%; object-fit: cover; }
    button {
      position: fixed; bottom:16px; left:16px; z-index: 10;
      padding:12px 14px; font-size:16px;
    }
  </style>
</head>
<body>
  <div id="msg">Tap “Start Camera”. If you get a prompt, tap Allow.</div>
  <button id="btn">Start Camera</button>
  <video id="v" playsinline autoplay muted></video>

  <script>
    const msg = document.getElementById('msg');
    const btn = document.getElementById('btn');
    const video = document.getElementById('v');

    async function start() {
      try {
        msg.textContent = "Requesting camera…";
        const stream = await navigator.mediaDevices.getUserMedia({
          video: { facingMode: "environment" },
          audio: false
        });
        video.srcObject = stream;
        msg.textContent = "Camera is LIVE ✅";
        btn.style.display = "none";
      } catch (e) {
        msg.textContent = "Camera FAILED ❌  " + (e && e.message ? e.message : e);
      }
    }

    btn.addEventListener('click', start);
  </script>
</body>
</html>
